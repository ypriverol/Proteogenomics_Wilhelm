
<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
  <script src="http://yihui.name/media/js/center-images.js"></script>
  <title>A Report Generated by knitr</title>
</head>
<body>

  <p>This report is automatically generated with the R
    package <a href="http://yihui.name/knitr"><strong>knitr</strong></a>
    (version <code class="knitr inline">1.10.5</code>)
    .</p>

<div class="chunk" id="auto-report"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">setwd</span><span class="hl std">(</span><span class="hl str">&quot;~/OtherAnalysis/2015_07_03_mRNAvsProtein/DraftMapOfHumanProteome/&quot;</span><span class="hl std">)</span>

<span class="hl std">(</span><span class="hl kwd">load</span><span class="hl std">(</span><span class="hl str">&quot;2_mats.RData&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;mats&quot;     &quot;tissues&quot;  &quot;proteins&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">(</span><span class="hl kwd">names</span><span class="hl std">(mats)</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">gsub</span><span class="hl std">(</span><span class="hl str">&quot;LOO&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;zLOO&quot;</span><span class="hl std">,</span> <span class="hl kwd">gsub</span><span class="hl std">(</span><span class="hl str">&quot;NI&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;zNI&quot;</span><span class="hl std">,</span> <span class="hl kwd">gsub</span><span class="hl std">(</span><span class="hl str">&quot;TFs&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;zTFs&quot;</span><span class="hl std">,</span> <span class="hl kwd">names</span><span class="hl std">(mats)))))</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] &quot;mRNAs&quot;            &quot;prots&quot;            &quot;ratio&quot;            &quot;ratio_zLOO&quot;      
##  [5] &quot;lm_zNI&quot;           &quot;lm&quot;               &quot;lm_zTFs&quot;          &quot;elastic_zTFs&quot;    
##  [9] &quot;elastic_zTFs_zNI&quot; &quot;interceptOnly&quot;
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">lapply</span><span class="hl std">(mats, str)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  num [1:1392, 1:12] 3.44e-05 1.42e-05 1.92e-05 3.64e-05 3.89e-05 ...
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : chr [1:1392] &quot;ENSG00000000419&quot; &quot;ENSG00000000971&quot; &quot;ENSG00000001084&quot; &quot;ENSG00000002549&quot; ...
##   ..$ : chr [1:12] &quot;uterus&quot; &quot;kidney&quot; &quot;testis&quot; &quot;pancreas&quot; ...
##  num [1:1392, 1:12] 9.97e-06 3.63e-05 1.69e-05 6.75e-05 5.55e-05 ...
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : chr [1:1392] &quot;ENSG00000000419&quot; &quot;ENSG00000000971&quot; &quot;ENSG00000001084&quot; &quot;ENSG00000002549&quot; ...
##   ..$ : chr [1:12] &quot;uterus&quot; &quot;kidney&quot; &quot;testis&quot; &quot;pancreas&quot; ...
##  num [1:1392, 1:12] 1.60e-05 1.11e-04 3.53e-05 2.26e-04 3.02e-04 ...
##  num [1:1392, 1:12] 1.90e-05 1.13e-04 3.95e-05 2.43e-04 3.06e-04 ...
##  num [1:1392, 1:12] 1.91e-05 8.71e-05 4.67e-05 3.10e-04 3.06e-04 ...
##  num [1:1392, 1:12] 2.12e-05 1.70e-04 4.40e-05 2.49e-04 3.20e-04 ...
##  num [1:1392, 1:12] 3.64e-05 4.80e-05 2.62e-05 2.97e-04 4.46e-04 ...
##  num [1:1392, 1:12] 3.26e-05 1.31e-04 2.92e-05 2.38e-04 4.35e-04 ...
##  num [1:1392, 1:12] 7.45e-06 7.01e-05 2.90e-05 2.57e-04 1.00e-04 ...
##  num [1:1392, 1:12] 2.11e-05 2.12e-04 4.69e-05 3.77e-04 3.02e-04 ...
</pre></div>
<div class="output"><pre class="knitr r">## $mRNAs
## NULL
## 
## $prots
## NULL
## 
## $ratio
## NULL
## 
## $ratio_zLOO
## NULL
## 
## $lm_zNI
## NULL
## 
## $lm
## NULL
## 
## $lm_zTFs
## NULL
## 
## $elastic_zTFs
## NULL
## 
## $elastic_zTFs_zNI
## NULL
## 
## $interceptOnly
## NULL
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">sapply</span><span class="hl std">(</span><span class="hl kwd">is.na</span><span class="hl std">(mats), sum)</span>
</pre></div>
<div class="output"><pre class="knitr r">##            mRNAs            prots            ratio       ratio_zLOO           lm_zNI 
##                0                0                0                0                0 
##               lm          lm_zTFs     elastic_zTFs elastic_zTFs_zNI    interceptOnly 
##                0                0                0                0                0
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">sapply</span><span class="hl std">(mats,</span> <span class="hl kwa">function</span><span class="hl std">(</span><span class="hl kwc">m</span><span class="hl std">)</span> <span class="hl kwd">sum</span><span class="hl std">(m</span><span class="hl opt">==</span><span class="hl num">0</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">##            mRNAs            prots            ratio       ratio_zLOO           lm_zNI 
##                0                0                0                0                0 
##               lm          lm_zTFs     elastic_zTFs elastic_zTFs_zNI    interceptOnly 
##                0                0                0                0                0
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(reshape)</span>
<span class="hl kwd">library</span><span class="hl std">(ggplot2)</span>

<span class="hl com"># CORRELATIONS ------------------------------------------------------------</span>
<span class="hl kwd">library</span><span class="hl std">(robustbase)</span>
<span class="hl std">corMats</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">()</span>
<span class="hl kwa">for</span><span class="hl std">(matNam</span> <span class="hl kwa">in</span> <span class="hl kwd">names</span><span class="hl std">(mats[</span><span class="hl opt">-</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">2</span><span class="hl std">)])){</span>
  <span class="hl kwd">rownames</span><span class="hl std">(mats[[matNam]])</span> <span class="hl kwb">&lt;-</span> <span class="hl std">proteins</span>
  <span class="hl kwd">colnames</span><span class="hl std">(mats[[matNam]])</span> <span class="hl kwb">&lt;-</span> <span class="hl std">tissues</span>
  <span class="hl std">corMats[[matNam]]</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl num">NA</span><span class="hl std">,</span> <span class="hl kwd">length</span><span class="hl std">(tissues),</span> <span class="hl kwd">length</span><span class="hl std">(tissues))</span>
  <span class="hl kwd">colnames</span><span class="hl std">(corMats[[matNam]])</span> <span class="hl kwb">&lt;-</span> <span class="hl std">tissues</span>
  <span class="hl kwd">rownames</span><span class="hl std">(corMats[[matNam]])</span> <span class="hl kwb">&lt;-</span> <span class="hl std">tissues</span>
  <span class="hl kwa">for</span><span class="hl std">(t1</span> <span class="hl kwa">in</span> <span class="hl std">tissues){</span>
    <span class="hl kwa">for</span><span class="hl std">(t2</span> <span class="hl kwa">in</span> <span class="hl std">tissues){</span>
      <span class="hl com">#       corMats[[matNam]][t1, t2] &lt;- cor(mats$prots[,t1], mats[[matNam]][,t2], method=&quot;spearman&quot;, use=&quot;pairwise.complete.obs&quot;)</span>
      <span class="hl kwd">try</span><span class="hl std">(corMats[[matNam]][t1, t2]</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">covMcd</span><span class="hl std">(</span><span class="hl kwd">data.frame</span><span class="hl std">(mats</span><span class="hl opt">$</span><span class="hl std">prots[,t1], mats[[matNam]][,t2]) ,</span> <span class="hl kwc">cor</span><span class="hl std">=T)</span><span class="hl opt">$</span><span class="hl std">cor[</span><span class="hl num">1</span><span class="hl std">,</span><span class="hl num">2</span><span class="hl std">])</span>
    <span class="hl std">}</span>
  <span class="hl std">}</span>
<span class="hl std">}</span>

<span class="hl kwd">library</span><span class="hl std">(gdata)</span>
<span class="hl std">diags</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lapply</span><span class="hl std">(corMats, diag)</span>
<span class="hl kwd">names</span><span class="hl std">(diags)</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">paste0</span><span class="hl std">(</span><span class="hl kwd">names</span><span class="hl std">(diags),</span> <span class="hl str">&quot;_diag&quot;</span><span class="hl std">)</span>
<span class="hl std">rest</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">lapply</span><span class="hl std">(corMats,</span> <span class="hl kwa">function</span><span class="hl std">(</span><span class="hl kwc">mat</span><span class="hl std">){</span>
  <span class="hl kwd">diag</span><span class="hl std">(mat)</span> <span class="hl kwb">&lt;-</span> <span class="hl num">NA</span>
  <span class="hl kwd">return</span><span class="hl std">(</span><span class="hl kwd">as.vector</span><span class="hl std">(mat))</span>
<span class="hl std">})</span>
<span class="hl kwd">names</span><span class="hl std">(rest)</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">paste0</span><span class="hl std">(</span><span class="hl kwd">names</span><span class="hl std">(rest),</span> <span class="hl str">&quot;_rest&quot;</span><span class="hl std">)</span>
<span class="hl kwd">library</span><span class="hl std">(reshape)</span>
<span class="hl kwd">library</span><span class="hl std">(ggplot2)</span>
<span class="hl kwd">str</span><span class="hl std">(pDat</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">melt.list</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(diags, rest)))</span>
</pre></div>
<div class="output"><pre class="knitr r">## 'data.frame':	1404 obs. of  2 variables:
##  $ value: num  0.206 0.32 0.155 0.189 0.236 ...
##  $ L1   : chr  &quot;mRNAs_diag&quot; &quot;mRNAs_diag&quot; &quot;mRNAs_diag&quot; &quot;mRNAs_diag&quot; ...
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">pDat</span><span class="hl opt">$</span><span class="hl std">data</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">factor</span><span class="hl std">(pDat</span><span class="hl opt">$</span><span class="hl std">L1)</span>
<span class="hl std">pDat</span><span class="hl opt">$</span><span class="hl std">method</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">factor</span><span class="hl std">(</span><span class="hl kwd">sapply</span><span class="hl std">(</span><span class="hl kwd">strsplit</span><span class="hl std">(pDat</span><span class="hl opt">$</span><span class="hl std">L1,</span> <span class="hl str">&quot;_&quot;</span><span class="hl std">),</span>  <span class="hl kwa">function</span><span class="hl std">(</span><span class="hl kwc">v</span><span class="hl std">)</span> <span class="hl kwd">return</span><span class="hl std">(v[[</span><span class="hl num">1</span><span class="hl std">]][</span><span class="hl num">1</span><span class="hl std">])))</span>
<span class="hl kwd">ggplot</span><span class="hl std">(pDat,</span> <span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">x</span><span class="hl std">=data,</span> <span class="hl kwc">y</span><span class="hl std">=value))</span> <span class="hl opt">+</span> <span class="hl kwd">geom_boxplot</span><span class="hl std">(</span><span class="hl kwd">aes</span><span class="hl std">(</span><span class="hl kwc">colour</span><span class="hl std">=method))</span> <span class="hl opt">+</span> <span class="hl kwd">theme_bw</span><span class="hl std">(</span><span class="hl num">24</span><span class="hl std">)</span> <span class="hl opt">+</span>
  <span class="hl kwd">theme</span><span class="hl std">(</span><span class="hl kwc">axis.text.x</span> <span class="hl std">=</span> <span class="hl kwd">element_text</span><span class="hl std">(</span><span class="hl kwc">angle</span> <span class="hl std">=</span> <span class="hl num">90</span><span class="hl std">,</span> <span class="hl kwc">hjust</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">))</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 108 rows containing non-finite values (stat_boxplot).
</pre></div>
</div><div class="rimage center"><img src="figure/3-2-Evaluations-Correlations-Rhtmlauto-report-1.png" title="plot of chunk auto-report" alt="plot of chunk auto-report" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"><span class="hl kwd">ggsave</span><span class="hl std">(</span><span class="hl str">&quot;3_Correlation.pdf&quot;</span><span class="hl std">,</span> <span class="hl kwc">height</span><span class="hl std">=</span><span class="hl num">8</span><span class="hl std">)</span>
</pre></div>
<div class="message"><pre class="knitr r">## Saving 6 x 8 in image
</pre></div>
<div class="warning"><pre class="knitr r">## Warning: Removed 108 rows containing non-finite values (stat_boxplot).
</pre></div>
</div></div>

  <p>The R session information (including the OS info, R version and all
    packages used):</p>

<div class="chunk" id="session-info"><div class="rcode"><div class="source"><pre class="knitr r">    <span class="hl kwd">sessionInfo</span><span class="hl std">()</span>
</pre></div>
<div class="output"><pre class="knitr r">## R version 3.1.2 (2014-10-31)
## Platform: x86_64-unknown-linux-gnu (64-bit)
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=en_US.UTF-8       
##  [4] LC_COLLATE=en_US.UTF-8     LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                  LC_ADDRESS=C              
## [10] LC_TELEPHONE=C             LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] parallel  stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] doMC_1.3.3        iterators_1.0.7   caret_6.0-47      lattice_0.20-31  
##  [5] robustbase_0.92-4 glmnet_2.0-2      foreach_1.4.2     Matrix_1.2-1     
##  [9] ggplot2_1.0.1     reshape_0.8.5     gdata_2.16.1     
## 
## loaded via a namespace (and not attached):
##  [1] BradleyTerry2_1.0-6 brglm_0.5-9         car_2.0-25          codetools_0.2-11   
##  [5] colorspace_1.2-6    DEoptimR_1.0-2      digest_0.6.8        evaluate_0.7       
##  [9] formatR_1.2         grid_3.1.2          gtable_0.1.2        gtools_3.5.0       
## [13] highr_0.5           knitr_1.10.5        labeling_0.3        lme4_1.1-8         
## [17] magrittr_1.5        MASS_7.3-41         mgcv_1.8-6          minqa_1.2.4        
## [21] munsell_0.4.2       nlme_3.1-120        nloptr_1.0.4        nnet_7.3-9         
## [25] pbkrtest_0.4-2      plyr_1.8.3          proto_0.3-10        quantreg_5.11      
## [29] Rcpp_0.11.6         reshape2_1.4.1      scales_0.2.5        SparseM_1.6        
## [33] splines_3.1.2       stringi_0.4-1       stringr_1.0.0       tools_3.1.2
</pre></div>
<div class="source"><pre class="knitr r">    <span class="hl kwd">Sys.time</span><span class="hl std">()</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;2015-07-08 15:04:04 PDT&quot;
</pre></div>
</div></div>


</body>
</html>
